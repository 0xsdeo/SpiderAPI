---
title: 极验行为验证 2.0
date: 2023-10-20 10:59:50
permalink: /captcha/geetest-v2/
article: false
---

::: theorem 极验行为验证 <Badge text="2.0" type="error" vertical="middle"/>丨GEETEST
[武汉极意网络科技有限公司](https://www.tianyancha.com/company/699317632)（简称：极验）于 2012 年首次提出行为式验证的概念，开创了验证码新时代。2015 年推出第二代智能验证，率先融入 AI 能力，多维联动探寻人机边界，服务全球企业突破 6 万家，掀起验证码创新风潮。

<br>
Demo 样例（随时有可能变化，以实际情况为准）：
<br>

- 不知名网站注册：[https://nozomi.wtf/auth/register](https://nozomi.wtf/auth/register)<Badge text="离线验证" type="tip" vertical="middle"/>
- 上海市市场主体信用信息公示系统：[https://fw.scjgj.sh.gov.cn/noticesh/home](https://fw.scjgj.sh.gov.cn/noticesh/home)<Badge text="离线验证" type="tip" vertical="middle"/>
- 江苏小微企业名录：[http://www.jsgsj.gov.cn:58888/mini/netweb/SMLibrary.jsp](http://www.jsgsj.gov.cn:58888/mini/netweb/SMLibrary.jsp)<Badge text="在线验证" type="tip" vertical="middle"/>

::: right
访问 [极验官网](https://www.geetest.com/)
:::

::: danger 提示
本页 Demo 为离线验证，由于极验官方已经关闭了 2 代的后台，无法新增相关配置信息，所以本页模拟获取 gt 和 challenge 是直接写死了，校验是否成功，也没有什么风控判断，只要有参数即可。
:::

<!-- <style>
    .wrapper-geetest-v2 {
        width: 1200px;
        height: 700px;
        position: relative;
        overflow: hidden;
        margin-left: -150px;
    }
    .wrapper-geetest-v2 iframe {
        position: absolute;
        /*margin-top: -65px;*/
        /*margin-left: -20px;*/
        width: 1200px;
        height: 700px;
    }
</style>

<div class="wrapper-geetest-v2">
    <iframe src="https://fw.scjgj.sh.gov.cn/noticesh/home" scrolling="no"></iframe>
</div> -->

<br>

<style>
    h1 span {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        font-weight: normal;    
    }
    .gt-submit2 {
        background: #347eff;
        border-radius: 4px;
        margin-bottom: 20px;
        display: inline-block;
        width: 300px;
        height: 50px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        color: #fff;
        cursor: pointer;
        font-size: 14px;
        line-height: 49px;
    }
    .gt-submit2:hover {
        background: #1A73E8;
    }
    .gt-input {
        display: inline-block;
        width: 300px;
        padding: 12px;
        border: 1px solid #d1d6e0;
        background-color: #fff;
        position: relative;
        cursor: pointer;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        border-radius: 3px;
        color: #292f3a;
        font-size: 14px;
        line-height: 20px;
    }
    #gt-captcha {
        width: 300px;
        /* height: 50px; */
        margin-bottom: 10px;
        margin-top: 10px;
        display: inline-block;
    }
    .gt-show {
        display: block;
    }
    #gt-wait {
        text-align: left;
        color: #666;
        margin: 0;
        font-size: 14px;
    }
</style>
<div style="text-align: center">
    <h1>极验验证 2.0 Demo <Badge text="离线验证" type="tip" vertical="top"/></h1>
    <form id="form">
        <br>
        <div>
            <input type="text" :placeholder="'\ue614 请输入账号'" id="username" maxlength="" class="iconfont gt-input">
        </div>
        <br>
        <div>
            <input type="text" :placeholder="'\ue69c 请输入密码'" id="password" maxlength="" class="iconfont gt-input">
        </div>
        <br>
        <div>
            <div id="gt-captcha">
                <p id="gt-wait" class="gt-show">正在加载验证码......</p>
            </div>
        </div>
        <input class="gt-submit2" id="submit" type="submit" value="立即登录">
    </form>
</div>
<script type="text/javascript" src="https://static.geetest.com/static/tools/gt.js"></script>
<script type="text/javascript" src="https://lib.baomitu.com/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://static.geetest.com/static/js/offline.6.0.0.js"></script>
<script>
    setTimeout(function() {
        var handler = function (captchaObj) {
            captchaObj.appendTo('#gt-captcha');
            $('#gt-wait').hide();
            // captchaObj.onReady(function () {
            //     $('#gt-wait').hide();
            // });
            $('#submit').click(function (e) {
                var result = captchaObj.getValidate();
                if (!result) {
                    e.preventDefault();
                    return alert('请先完成验证！');
                }
                result['username'] = $('#username').val();
                result['password'] = $('#password').val();
                $.ajax({
                    url: 'https://api.spiderapi.cn/geetest2/login',
                    type: 'post',
                    dataType: 'json',
                    data: result,
                    success: function (data) {
                        if (data.result === 'success') {
                            alert('登录成功！');
                            captchaObj.reset();
                        } else if (data.result === 'fail') {
                            alert('登录失败，请重新验证！');
                            captchaObj.reset();
                        }
                    }
                });
            });
        };
        $.ajax({
            url: 'https://api.spiderapi.cn/geetest2/register',
            type: 'get',
            dataType: 'json',
            success: function (data) {
                initGeetest({
                    gt: data.gt,
                    challenge: data.challenge,
                    product: 'float', // 产品形式，包括：float，popup
                    offline: 1
                }, handler);
            }
        });
    }, 500);
</script>
