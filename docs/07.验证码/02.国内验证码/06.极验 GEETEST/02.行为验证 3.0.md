---
title: 极验行为验证 3.0
date: 2023-10-20 10:59:50
permalink: /captcha-demo/geetest-v3/
article: false
---

::: theorem 极验行为验证 <Badge text="3.0" type="error" vertical="middle"/>丨GEETEST
[武汉极意网络科技有限公司](https://www.tianyancha.com/company/699317632)（简称：极验）于 2012 年首次提出行为式验证的概念，开创了验证码新时代。2017 年推出第三代行为验证，基于生物的行为特征，结合 AI 技术，帮助36万+网站和 APP 智能区分人机，识别恶意流量，保障业务安全。

- 官方 Demo1：[https://www.geetest.com/demo/](https://www.geetest.com/demo/)
- 官方 Demo2：[https://www.geetest.com/show](https://www.geetest.com/show)

::: right
访问 [极验官网](https://www.geetest.com/Sensebot)
:::

<br>

<!-- <iframe src="https://www.geetest.com/demo/" height="700px" referrerpolicy="origin"></iframe> -->

<style>
    /* body {
        margin: 50px 0;
        text-align: center;
        font-family: "PingFangSC-Regular", "Open Sans", Arial, "Hiragino Sans GB", "Microsoft YaHei", "STHeiti", "WenQuanYi Micro Hei", SimSun, sans-serif;
    } */
    .inp {
        border: 1px solid #cccccc;
        border-radius: 2px;
        padding: 0 10px;
        width: 278px;
        height: 40px;
        font-size: 18px;
    }
    .btn {
        border: 1px solid #cccccc;
        border-radius: 2px;
        width: 100px;
        height: 40px;
        font-size: 16px;
        color: #666;
        cursor: pointer;
        background: white linear-gradient(180deg, #ffffff 0%, #f3f3f3 100%);
    }
    .btn:hover {
        background: white linear-gradient(0deg, #ffffff 0%, #f3f3f3 100%)
    }
    #captcha {
        width: 300px;
        display: inline-block;
    }
    .show {
        display: block;
    }
    .hide {
        display: none;
    }
    #notice {
        color: red;
    }
    label {
        vertical-align: top;
        display: inline-block;
        width: 80px;
        text-align: right;
    }
    #wait {
        text-align: left;
        color: #666;
        margin: 0;
    }
</style>
<div style="text-align: center">
<h1>极验验证SDK DEMO</h1>
<form id="form">
    <br>
    <div>
        <label for="username">用户名：</label>
        <input class="inp" id="username" type="text" value="spiderapi.cn">
    </div>
    <br>
    <div>
        <label for="password">密码：</label>
        <input class="inp" id="password" type="password" value="123456">
    </div>
    <br>
    <div>
        <label>完成验证：</label>
        <div id="captcha">
            <p id="wait" class="show">正在加载验证码......</p>
        </div>
    </div>
    <br>
    <p id="notice" class="hide">请先完成验证</p>
    <input class="btn" id="submit" type="submit" value="提交">
</form>
</div>
<script src="https://lib.baomitu.com/jquery/1.9.1/jquery.min.js"></script>
<script src="https://static.geetest.com/static/js/gt.0.4.9.js"></script>
<script>
    var handler = function (captchaObj) {
        $('#submit').click(function () {
            var result = captchaObj.getValidate();
            if (!result) {
                return alert('请先完成验证！')
            }
            $.ajax({
                url: 'https://api.spiderapi.cn/geetest/validate',
                type: 'POST',
                dataType: 'json',
                data: {
                    username: $('#username').val(),
                    password: $('#password').val(),
                    geetest_challenge: result.geetest_challenge,
                    geetest_validate: result.geetest_validate,
                    geetest_seccode: result.geetest_seccode
                },
                success: function (data) {
                    if (data.result === 'success') {
                        alert('登录成功！response：' + data);
                    } else if (data.result === 'fail') {
                        alert('登录失败，请重新验证！response：' + data);
                        captchaObj.reset();
                    }
                }
            });
        });
        // 将验证码加到id为captcha的元素里，同时会有三个input的值用于表单提交
        captchaObj.appendTo('#captcha');
        captchaObj.onReady(function () {
            $('#wait').hide();
        });
    };
    $.ajax({
        url: 'https://api.spiderapi.cn/geetest/register?t=' + (new Date()).getTime(), // 加随机数防止缓存
        type: 'get',
        dataType: 'json',
        success: function (data) {
            // 调用 initGeetest 初始化参数
            // 参数1：配置参数
            // 参数2：回调，回调的第一个参数验证码对象，之后可以使用它调用相应的接口
            initGeetest({
                gt: data.gt,
                challenge: data.challenge,
                new_captcha: data.new_captcha, // 用于宕机时表示是新验证码的宕机
                offline: !data.success, // 表示用户后台检测极验服务器是否宕机，一般不需要关注
                product: 'float', // 产品形式，包括：float，popup
                width: '100%'
            }, handler);
        }
    });
</script>
